# Claude Code Pet Companion v2.0.0 发布说明

## 🎉 重大更新

本次更新包含 50+ 项优化，全面提升了宠物的视觉效果、交互体验和功能特性。

---

## ✨ 新功能

### 主题系统
- **5 种配色主题**：蓝色（默认）、粉色、绿色、暗黑、紫色
- 右键菜单快速切换主题
- 所有UI元素同步主题颜色

### 配置系统
- 配置文件位置：`~/.claude-pet-companion/config.json`
- 可配置项：
  - 动画速度
  - 窗口大小
  - 宠物名字
  - 状态衰减速率
  - 目标 FPS

### 浮动 XP 数字
- 获得 XP 时显示浮动数字效果
- 数字向上飘动并淡出

### 升级庆祝动画
- 升级时光环扩散效果
- 粒子爆发庆祝

### 连击系统
- 连续操作获得额外 XP 奖励
- 5 秒内连续操作触发连击

---

## 🎨 视觉增强

### 背景效果
- **50 步平滑渐变**背景
- **20 颗闪烁星星**（独立相位动画）
- **发光网格线**
- **毛玻璃效果**状态栏

### 宠物外观
- **会动的耳朵**（随机抽动动画）
- **摇摆的尾巴**（正弦波运动）
- **呼吸效果**（身体周期性缩放）
- **动态阴影**（随浮动变化）

---

## 😊 表情系统

### 新增表情
| 表情 | 描述 |
|------|------|
| surprised | 惊讶（睁大眼睛，张开嘴巴） |
| excited | 兴奋（闪闪眼，超大笑容） |
| proud | 得意（眯眼，上扬眉毛） |
| confused | 困惑（一高一低眼睛，问号） |

### 眼睛跟随
- 宠物眼睛会跟随鼠标光标移动

---

## 🎮 交互优化

### 拖拽增强
- **边缘检测**：无法拖出屏幕
- **弹性拖拽**：拖拽时显示弹性跟随效果
- **回弹动画**：释放后弹回原位
- **拖拽表情**：拖拽时显示惊讶表情

### 双击互动
- 双击宠物会跳跃
- 释放心形粒子

---

## ⚡ 粒子系统增强

### 新粒子类型
- ✦ Sparkle（火花）
- ♪ Note（音符）
- ● Circle（圆圈）
- {} Code（代码符号）
- + Plus（加号）

### 物理效果
- 边界反弹
- 颜色渐变过渡
- 重力效果

---

## 📊 UI 改进

### 状态条颜色阈值
- **绿色**：≥ 60%（良好）
- **黄色**：30-60%（警告）
- **红色**：< 30%（危险）

### 主题切换
- 右键菜单 → 🎨 主题 → 选择主题

---

## 📁 新增文件

```
claude_pet_companion/
├── config.py      # 配置管理系统
├── themes.py      # 主题定义
└── claude_pet_hd.py  # 重构主文件
```

---

## 🔧 配置示例

`~/.claude-pet-companion/config.json`:

```json
{
  "theme": "pink",
  "animation_speed": 1.0,
  "float_amplitude": 3.0,
  "pet_name": "Buddy",
  "target_fps": 40
}
```

---

## 🚀 使用方法

### 启动宠物
```bash
python -m claude_pet_companion.cli
```

### 切换主题
1. 右键点击宠物
2. 选择 "🎨 主题"
3. 选择喜欢的主题

### 配置选项
编辑 `~/.claude-pet-companion/config.json` 文件

---

## 📈 性能优化

- 可配置目标 FPS（默认 40）
- 粒子数量限制（默认 25）
- 优化重绘周期
- 减少文件读取频率

---

## 🐛 修复

- 修复窗口可能拖出屏幕的问题
- 修复状态条颜色不随数值变化的问题
- 优化拖拽时的跟随延迟

---

## 📝 兼容性

- Python 3.8+
- Windows / macOS / Linux
- Tkinter（Python 内置）

---

**升级建议**：删除旧配置文件重新开始，以获得最佳体验。

**反馈渠道**：GitHub Issues
